let listOfItem = {
  "Abyssal Mask": {
    name: "Abyssal Mask",
    cost: 2500,
    img: "./assets/img/item00.png",
    stats: "a#?",
  },
  "Archangel's Staff": {
    name: "Archangel's Staff",
    cost: 2900,
    img: "./assets/img/item01.png",
    stats: "abf",
  },
  "Ardent Censer": {
    name: "Ardent Censer",
    cost: 2300,
    img: "./assets/img/item02.png",
    stats: "acd%",
  },
  "Axiom Arc": {
    name: "Axiom Arc",
    cost: 3000,
    img: "./assets/img/item03.png",
    stats: "14f",
  },
  "Banshee's Veil": {
    name: "Banshee's Veil",
    cost: 3100,
    img: "./assets/img/item04.png",
    stats: "a?",
  },
  "Black Cleaver": {
    name: "Black Cleaver",
    cost: 3000,
    img: "./assets/img/item05.png",
    stats: "1f#",
  },
  "Blackfire Torch": {
    name: "Blackfire Torch",
    cost: 2800,
    img: "./assets/img/item06.png",
    stats: "abf",
  },
  "Blade of the Ruined King": {
    name: "Blade of the Ruined King",
    cost: 3200,
    img: "./assets/img/item07.png",
    stats: "136",
  },
  "Bloodthirster": {
    name: "Bloodthirster",
    cost: 3400,
    img: "./assets/img/item08.png",
    stats: "16",
  },
  "Chempunk Chainsword": {
    name: "Chempunk Chainsword",
    cost: 2800,
    img: "./assets/img/item09.png",
    stats: "1f#",
  },
  "Cosmic Drive": {
    name: "Cosmic Drive",
    cost: 3000,
    img: "./assets/img/item10.png",
    stats: "af#%",
  },
  "Cryptbloom": {
    name: "Cryptbloom",
    cost: 2850,
    img: "./assets/img/item11.png",
    stats: "aef",
  },
  "Dawncore": {
    name: "Dawncore",
    cost: 2700,
    img: "./assets/img/item12.png",
    stats: "acd",
  },
  "Dead Man's Plate": {
    name: "Dead Man's Plate",
    cost: 2900,
    img: "./assets/img/item13.png",
    stats: "#!%",
  },
  "Death's Dance": {
    name: "Death's Dance",
    cost: 3200,
    img: "./assets/img/item14.png",
    stats: "1f!",
  },
  "Echoes of Helia": {
    name: "Echoes of Helia",
    cost: 2200,
    img: "./assets/img/item15.png",
    stats: "acf#",
  },
  "Eclipse": {
    name: "Eclipse",
    cost: 2800,
    img: "./assets/img/item16.png",
    stats: "1f",
  },
  "Edge of Night": {
    name: "Edge of Night",
    cost: 2800,
    img: "./assets/img/item17.png",
    stats: "14#",
  },
  "Essence Reaver": {
    name: "Essence Reaver",
    cost: 3100,
    img: "./assets/img/item18.png",
    stats: "12f",
  },
  "Experimental Hexplate": {
    name: "Experimental Hexplate",
    cost: 3000,
    img: "./assets/img/item19.png",
    stats: "13#",
  },
  "Force of Nature": {
    name: "Force of Nature",
    cost: 2800,
    img: "./assets/img/item20.png",
    stats: "#?%",
  },
  "Frozen Heart": {
    name: "Frozen Heart",
    cost: 2500,
    img: "./assets/img/item21.png",
    stats: "bf!",
  },
  "Guardian Angel": {
    name: "Guardian Angel",
    cost: 3200,
    img: "./assets/img/item22.png",
    stats: "1!",
  },
  "Guinsoo's Rageblade": {
    name: "Guinsoo's Rageblade",
    cost: 3000,
    img: "./assets/img/item23.png",
    stats: "13a",
  },
  "Heartsteel": {
    name: "Heartsteel",
    cost: 3000,
    img: "./assets/img/item24.png",
    stats: "#$",
  },
  "Hextech Rocketbelt": {
    name: "Hextech Rocketbelt",
    cost: 2600,
    img: "./assets/img/item25.png",
    stats: "af#",
  },
  "Hollow Radiance": {
    name: "Hollow Radiance",
    cost: 2800,
    img: "./assets/img/item26.png",
    stats: "f#$?",
  },
  "Horizon Focus": {
    name: "Horizon Focus",
    cost: 2700,
    img: "./assets/img/item27.png",
    stats: "af",
  },
  "Hubris": {
    name: "Hubris",
    cost: 3000,
    img: "./assets/img/item28.png",
    stats: "14f",
  },
  "Hullbreaker": {
    name: "Hullbreaker",
    cost: 3000,
    img: "./assets/img/item29.png",
    stats: "1#%",
  },
  "Iceborn Gauntlet": {
    name: "Iceborn Gauntlet",
    cost: 2600,
    img: "./assets/img/item30.png",
    stats: "f#!",
  },
  "Immortal Shieldbow": {
    name: "Immortal Shieldbow",
    cost: 3000,
    img: "./assets/img/item31.png",
    stats: "12",
  },
  "Imperial Mandate": {
    name: "Imperial Mandate",
    cost: 2300,
    img: "./assets/img/item32.png",
    stats: "acf",
  },
  "Infinity Edge": {
    name: "Infinity Edge",
    cost: 3400,
    img: "./assets/img/item33.png",
    stats: "12",
  },
  "Jak'Sho, The Protean": {
    name: "Jak'Sho, The Protean",
    cost: 3200,
    img: "./assets/img/item34.png",
    stats: "#!?",
  },
  "Kaenic Rookern": {
    name: "Kaenic Rookern",
    cost: 2900,
    img: "./assets/img/item35.png",
    stats: "#$?",
  },
  "Knight's Vow": {
    name: "Knight's Vow",
    cost: 2200,
    img: "./assets/img/item36.png",
    stats: "f#$!",
  },
  "Kraken Slayer": {
    name: "Kraken Slayer",
    cost: 3100,
    img: "./assets/img/item37.png",
    stats: "13%",
  },
  "Liandry's Torment": {
    name: "Liandry's Torment",
    cost: 3000,
    img: "./assets/img/item38.png",
    stats: "a#",
  },
  "Lich Bane": {
    name: "Lich Bane",
    cost: 3100,
    img: "./assets/img/item39.png",
    stats: "af%",
  },
  "Locket of the Iron Solari": {
    name: "Locket of the Iron Solari",
    cost: 2200,
    img: "./assets/img/item40.png",
    stats: "f#!?",
  },
  "Lord Dominik's Regards": {
    name: "Lord Dominik's Regards",
    cost: 3000,
    img: "./assets/img/item41.png",
    stats: "125",
  },
  "Luden's Companion": {
    name: "Luden's Companion",
    cost: 2900,
    img: "./assets/img/item42.png",
    stats: "abf",
  },
  "Malignance": {
    name: "Malignance",
    cost: 2700,
    img: "./assets/img/item43.png",
    stats: "abf",
  },
  "Manamune": {
    name: "Manamune",
    cost: 2900,
    img: "./assets/img/item44.png",
    stats: "1bf",
  },
  "Maw of Malmortius": {
    name: "Maw of Malmortius",
    cost: 3100,
    img: "./assets/img/item45.png",
    stats: "1f?",
  },
  "Mercurial Scimitar": {
    name: "Mercurial Scimitar",
    cost: 3300,
    img: "./assets/img/item46.png",
    stats: "16?",
  },
  "Mikael's Blessing": {
    name: "Mikael's Blessing",
    cost: 2300,
    img: "./assets/img/item47.png",
    stats: "cdf#",
  },
  "Moonstone Renewer": {
    name: "Moonstone Renewer",
    cost: 2200,
    img: "./assets/img/item48.png",
    stats: "acf#",
  },
  "Morellonomicon": {
    name: "Morellonomicon",
    cost: 2200,
    img: "./assets/img/item49.png",
    stats: "af",
  },
  "Mortal Reminder": {
    name: "Mortal Reminder",
    cost: 3000,
    img: "./assets/img/item50.png",
    stats: "125",
  },
  "Nashor's Tooth": {
    name: "Nashor's Tooth",
    cost: 3000,
    img: "./assets/img/item51.png",
    stats: "3af",
  },
  "Navori Flickerblade": {
    name: "Navori Flickerblade",
    cost: 2600,
    img: "./assets/img/item52.png",
    stats: "23%",
  },
  "Opportunity": {
    name: "Opportunity",
    cost: 2700,
    img: "./assets/img/item53.png",
    stats: "14%",
  },
  "Overlord's Bloodmail": {
    name: "Overlord's Bloodmail",
    cost: 3300,
    img: "./assets/img/item54.png",
    stats: "1#",
  },
  "Phantom Dancer": {
    name: "Phantom Dancer",
    cost: 2600,
    img: "./assets/img/item55.png",
    stats: "23%",
  },
  "Profane Hydra": {
    name: "Profane Hydra",
    cost: 3300,
    img: "./assets/img/item56.png",
    stats: "14f",
  },
  "Rabadon's Deathcap": {
    name: "Rabadon's Deathcap",
    cost: 3600,
    img: "./assets/img/item57.png",
    stats: "a",
  },
  "Randuin's Omen": {
    name: "Randuin's Omen",
    cost: 2700,
    img: "./assets/img/item58.png",
    stats: "#!",
  },
  "Rapid Firecannon": {
    name: "Rapid Firecannon",
    cost: 2600,
    img: "./assets/img/item59.png",
    stats: "23%",
  },
  "Ravenous Hydra": {
    name: "Ravenous Hydra",
    cost: 3300,
    img: "./assets/img/item60.png",
    stats: "16f",
  },
  "Redemption": {
    name: "Redemption",
    cost: 2300,
    img: "./assets/img/item61.png",
    stats: "cdf#",
  },
  "Riftmaker": {
    name: "Riftmaker",
    cost: 3100,
    img: "./assets/img/item62.png",
    stats: "af#",
  },
  "Rod of Ages": {
    name: "Rod of Ages",
    cost: 2600,
    img: "./assets/img/item63.png",
    stats: "ab#",
  },
  "Runaan's Hurricane": {
    name: "Runaan's Hurricane",
    cost: 2600,
    img: "./assets/img/item64.png",
    stats: "23%",
  },
  "Rylai's Crystal Scepter": {
    name: "Rylai's Crystal Scepter",
    cost: 2600,
    img: "./assets/img/item65.png",
    stats: "a#",
  },
  "Serpent's Fang": {
    name: "Serpent's Fang",
    cost: 2500,
    img: "./assets/img/item66.png",
    stats: "14",
  },
  "Serylda's Grudge": {
    name: "Serylda's Grudge",
    cost: 3200,
    img: "./assets/img/item67.png",
    stats: "14f",
  },
  "Shadowflame": {
    name: "Shadowflame",
    cost: 3200,
    img: "./assets/img/item68.png",
    stats: "ae",
  },
  "Shurelya's Battlesong": {
    name: "Shurelya's Battlesong",
    cost: 2200,
    img: "./assets/img/item69.png",
    stats: "acf%",
  },
  "Spear of Shojin": {
    name: "Spear of Shojin",
    cost: 3100,
    img: "./assets/img/item70.png",
    stats: "1f#",
  },
  "Spirit Visage": {
    name: "Spirit Visage",
    cost: 2900,
    img: "./assets/img/item71.png",
    stats: "f#$?",
  },
  "Staff of Flowing Water": {
    name: "Staff of Flowing Water",
    cost: 2300,
    img: "./assets/img/item72.png",
    stats: "acdf",
  },
  "Statikk Shiv": {
    name: "Statikk Shiv",
    cost: 2900,
    img: "./assets/img/item73.png",
    stats: "13%",
  },
  "Sterak's Gage": {
    name: "Sterak's Gage",
    cost: 3200,
    img: "./assets/img/item74.png",
    stats: "#&",
  },
  "Stormsurge": {
    name: "Stormsurge",
    cost: 2900,
    img: "./assets/img/item75.png",
    stats: "ae%",
  },
  "Stridebreaker": {
    name: "Stridebreaker",
    cost: 3300,
    img: "./assets/img/item76.png",
    stats: "13#",
  },
  "Sundered Sky": {
    name: "Sundered Sky",
    cost: 3100,
    img: "./assets/img/item77.png",
    stats: "1f#",
  },
  "Sunfire Aegis": {
    name: "Sunfire Aegis",
    cost: 2700,
    img: "./assets/img/item78.png",
    stats: "f#!",
  },
  "Terminus": {
    name: "Terminus",
    cost: 3000,
    img: "./assets/img/item79.png",
    stats: "13",
  },
  "The Collector": {
    name: "The Collector",
    cost: 3200,
    img: "./assets/img/item80.png",
    stats: "124",
  },
  "Thornmail": {
    name: "Thornmail",
    cost: 2700,
    img: "./assets/img/item81.png",
    stats: "#!",
  },
  "Titanic Hydra": {
    name: "Titanic Hydra",
    cost: 3300,
    img: "./assets/img/item82.png",
    stats: "1#",
  },
  "Trailblazer": {
    name: "Trailblazer",
    cost: 2500,
    img: "./assets/img/item83.png",
    stats: "#!%",
  },
  "Trinity Force": {
    name: "Trinity Force",
    cost: 3333,
    img: "./assets/img/item84.png",
    stats: "13f#",
  },
  "Umbral Glaive": {
    name: "Umbral Glaive",
    cost: 2600,
    img: "./assets/img/item85.png",
    stats: "14f",
  },
  "Unending Despair": {
    name: "Unending Despair",
    cost: 2800,
    img: "./assets/img/item86.png",
    stats: "f#!",
  },
  "Vigilant Wardstone": {
    name: "Vigilant Wardstone",
    cost: 2300,
    img: "./assets/img/item87.png",
    stats: "e#!?",
  },
  "Void Staff": {
    name: "Void Staff",
    cost: 3000,
    img: "./assets/img/item88.png",
    stats: "ae",
  },
  "Voltaic Cyclosword": {
    name: "Voltaic Cyclosword",
    cost: 2900,
    img: "./assets/img/item89.png",
    stats: "14f",
  },
  "Warmog's Armor": {
    name: "Warmog's Armor",
    cost: 3300,
    img: "./assets/img/item90.png",
    stats: "#$%",
  },
  "Winter's Approach": {
    name: "Winter's Approach",
    cost: 2400,
    img: "./assets/img/item91.png",
    stats: "bf#",
  },
  "Wit's End": {
    name: "Wit's End",
    cost: 2800,
    img: "./assets/img/item91.png",
    stats: "3?&",
  },
  "Youmuu's Ghostblade": {
    name: "Youmuu's Ghostblade",
    cost: 2700,
    img: "./assets/img/item93.png",
    stats: "14",
  },
  "Yun Tal Wildarrows": {
    name: "Yun Tal Wildarrows",
    cost: 3200,
    img: "./assets/img/item94.png",
    stats: "12",
  },
  "Zeke's Convergence": {
    name: "Zeke's Convergence",
    cost: 2200,
    img: "./assets/img/item95.png",
    stats: "f#!?",
  },
  "Zhonya's Hourglass": {
    name: "Zhonya's Hourglass",
    cost: 3250,
    img: "./assets/img/item96.png",
    stats: "a!",
  }
}


let suggestions = [
  "Abyssal Mask",
  "Archangel's Staff",
  "Ardent Censer",
  "Axiom Arc",
  "Banshee's Veil",
  "Black Cleaver",
  "Blackfire Torch",
  "Blade of the Ruined King",
  "Bloodthirster",
  "Chempunk Chainsword",
  "Cosmic Drive",
  "Cryptbloom",
  "Dawncore",
  "Dead Man's Plate",
  "Death's Dance",
  "Echoes of Helia",
  "Eclipse",
  "Edge of Night",
  "Essence Reaver",
  "Experimental Hexplate",
  "Force of Nature",
  "Frozen Heart",
  "Guardian Angel",
  "Guinsoo's Rageblade",
  "Heartsteel",
  "Hextech Rocketbelt",
  "Hollow Radiance",
  "Horizon Focus",
  "Hubris",
  "Hullbreaker",
  "Iceborn Gauntlet",
  "Immortal Shieldbow",
  "Imperial Mandate",
  "Infinity Edge",
  "Jak'Sho, The Protean",
  "Kaenic Rookern",
  "Knight's Vow",
  "Kraken Slayer",
  "Liandry's Torment",
  "Lich Bane",
  "Locket of the Iron Solari",
  "Lord Dominik's Regards",
  "Luden's Companion",
  "Malignance",
  "Manamune",
  "Maw of Malmortius",
  "Mercurial Scimitar",
  "Mikael's Blessing",
  "Moonstone Renewer",
  "Morellonomicon",
  "Mortal Reminder",
  "Nashor's Tooth",
  "Navori Flickerblade",
  "Opportunity",
  "Overlord's Bloodmail",
  "Phantom Dancer",
  "Profane Hydra",
  "Rabadon's Deathcap",
  "Randuin's Omen",
  "Rapid Firecannon",
  "Ravenous Hydra",
  "Redemption",
  "Riftmaker",
  "Rod of Ages",
  "Runaan's Hurricane",
  "Rylai's Crystal Scepter",
  "Serpent's Fang",
  "Serylda's Grudge",
  "Shadowflame",
  "Shurelya's Battlesong",
  "Spear of Shojin",
  "Spirit Visage",
  "Staff of Flowing Water",
  "Statikk Shiv",
  "Sterak's Gage",
  "Stormsurge",
  "Stridebreaker",
  "Sundered Sky",
  "Sunfire Aegis",
  "Terminus",
  "The Collector",
  "Thornmail",
  "Titanic Hydra",
  "Trailblazer",
  "Trinity Force",
  "Umbral Glaive",
  "Unending Despair",
  "Vigilant Wardstone",
  "Void Staff",
  "Voltaic Cyclosword",
  "Warmog's Armor",
  "Winter's Approach",
  "Wit's End",
  "Youmuu's Ghostblade",
  "Yun Tal Wildarrows",
  "Zeke's Convergence",
  "Zhonya's Hourglass",
]

let ui_option = document.querySelector('.ui_option');
let optionBtn = document.getElementById('options');  
let switch_input = document.querySelector('.switch_input');
let listItem = suggestions.length - 1;                                    //Récupère le nombre d'items possible 
let mathObject = Math.random();                                       //Génère un random
let ratioItem = mathObject * listItem;                                //Multiplie le random par le nombre d'item
let numObjRandom = Math.round(ratioItem);                             //Arrondie le nombre qui a été multiplié 
let objetRandom = suggestions[numObjRandom];                          //Sélectionne le nom de l'item dans la liste à son numéro
let coutItem = listOfItem[objetRandom]["cost"];
let bouton = document.querySelector(".btn");
let radioHTML = document.querySelectorAll(".box");
let imgHTML = document.querySelector(".img");
let imageItem = listOfItem[objetRandom]["img"];
imgHTML.src = imageItem;
let priceHTML = document.querySelectorAll(".price");
let prenom = false;
let cout = false;
let victory = document.querySelector(".victory");
let victory2 = document.querySelector(".victory2");
let defeat = document.querySelector(".defeat");
let checkHTML = document.querySelectorAll(".check");
let nomItem = listOfItem[objetRandom]["name"];
let valeurEntree = document.querySelector(".entree");
let statsItem = listOfItem[objetRandom]["stats"];
let switch_value = true;
let option_value = optionBtn.checked;
let body = document.querySelector('body');
let exit_screen = document.querySelector('.exit_screen');
let items_left = document.querySelector('.item-left');
let streak = document.querySelector('.streak');
let streak_value = 0;

optionBtn.addEventListener('change', function(){
    ui_option.classList.toggle('none');
    exit_screen.classList.toggle('none');
    console.log(option_value);

})

exit_screen.addEventListener('click', function(){
  exit_screen.classList.toggle('none');
  optionBtn.checked = false;
  ui_option.classList.toggle('none');
})

switch_input.addEventListener('change', function(){
  if (switch_value == false){
    switch_value = true;
    console.log(switch_value);
  } else if (switch_value == true){
    switch_value = false;
    console.log(switch_value);
  }
})

//---------------ACCEPT BUTTON------------------//
bouton.addEventListener("click", function () {
  goToItem(objetRandom);
});

function goToItem(objetRandom) {
  let statsBox = document.querySelector(".stats_box");
  let boxPrix = document.querySelector(".prix");
  valeurEntree.classList.remove("animation");
  boxPrix.classList.remove("animation");
  statsBox.classList.remove("animation");

  prenom = false;
  cout = false;

  if (valeurEntree.value == nomItem) {
    prenom = true;
  }

  radioHTML.forEach(function (nombre, y) {
    if (radioHTML[y].checked == true) {
      if (priceHTML[y].innerText == coutItem) {
        cout = true;
      }
    } else if (y < 3) {
      y++;
    }
  });

  let itemEntrer = "";
  checkHTML.forEach(function (item, z) {
    if (checkHTML[z].checked == true) {
      itemEntrer = itemEntrer + checkHTML[z].value;
      z++;
    } else {
      z++;
    }
  });

  if (cout == true && prenom == true && itemEntrer == statsItem) {
    victory.classList.remove("none");
    victory2.classList.remove("none");
    streak_value = streak_value + 1;
    streak.innerHTML = "Streak : " + streak_value;
    next.innerHTML = "Next";
    body.classList.add("win");
  } else if (prenom !== true) {
    streak_value = 0;
    streak.innerHTML = "Streak : " + streak_value;
    valeurEntree.classList.add("animation");
  } else if (cout !== true) {
    streak_value = 0;
    streak.innerHTML = "Streak : " + streak_value;
    boxPrix.classList.add("animation");
  } else {
    streak_value = 0;
    streak.innerHTML = "Streak : " + streak_value;
    statsBox.classList.add("animation");
  }
}
//--------------------HINT---------------------------//
let hint = document.querySelector(".hint");

hint.addEventListener("click", function () {
  let hintPrice = false;
  streak_value = 0;
  streak.innerHTML = "Streak : " + streak_value;
  let num = String(coutItem)[1];
  radioHTML.forEach(function (nombre, q) {
    if (radioHTML[q].checked == true) {
      if (priceHTML[q].innerHTML == coutItem) {
        hintPrice = true;
      } else {
        hintPrice = false;
      }
    } else {
      q++;
    }
  });

  if (valeurEntree.value !== nomItem) {
    alert("HINT: The name starts with the letter " + nomItem.charAt(0).toUpperCase());
  } else if (hintPrice == false) {
    alert("HINT: The second number of the price is " + num);
  } else {
    alert("HINT: there is " + statsItem.length + " stats");
  }
});
//--------------Aléatoire prix MAUVAIS---------------//

let chiffre = [2100, 2150, 2200, 2250, 2300, 2350, 2400, 2450, 2500, 2550, 2600, 2650, 2700, 2750, 2800, 2850, 2900, 2950, 3000, 3050, 3100, 3150, 3200, 3250, 3300, 3333, 3350, 3400, 3450, 3500, 3550, 3600, 3650, 3700];

function aleatoirMauvais() {
  chiffre = [2100, 2150, 2200, 2250, 2300, 2350, 2400, 2450, 2500, 2550, 2600, 2650, 2700, 2750, 2800, 2850, 2900, 2950, 3000, 3050, 3100, 3150, 3200, 3250, 3300, 3333, 3350, 3400, 3450, 3500, 3550, 3600, 3650, 3700];

  chiffre.forEach(function (nombre, j) {
    if (chiffre[j] == coutItem) {
      chiffre.splice(j, 1);
      j++;
    } else {
      j++;
    }
  });

  radioHTML.forEach(function (nombre, i) {
    if (priceHTML[i] !== " ") {
      let chiffreRandom = Math.random();

      let tableau = chiffre.length - 1;

      let ratio = chiffreRandom * tableau;
      let mathPrix = Math.round(ratio);

      let prixChoix = chiffre[mathPrix];
      priceHTML[i].innerText = prixChoix;

      chiffre.forEach(function (nombre, u) {
        if (chiffre[u] == prixChoix) {
          chiffre.splice(u, 1);
          u++;
        } else {
          u++;
        }
      });
    } else {
      i++;
    }
  });
}

//--------Aléatoire prix réponse emplacement---------//
function aleatoirBon() {
  let quatreMath = Math.random();
  let quatreRatio = quatreMath * 3;
  let quatreRound = Math.round(quatreRatio);
  priceHTML[quatreRound].innerText = coutItem;
}
//--------Aléatoire prix réponse emplacement---------//

//----------------------Audio------------------------//
let amount = 0.1;
var volume = document.getElementsByTagName("audio")[0];

function changevolume(amount) {
  volume.volume = amount;
}

let play = document.querySelector(".play");
let mp3 = document.getElementsByTagName("audio")[0];
play.addEventListener("click", function () {
  mp3.play();
});
mp3.play();
volume.volume = amount;
//----------------------Audio------------------------//

//----------------------Next------------------------//
let next = document.querySelector(".next");
let gg = document.querySelector(".gg");
let boxPrix = document.querySelector(".prix");
let statsBox = document.querySelector(".stats_box");
let interrogation = document.querySelector('.ping');
let option_image = document.querySelector('.option_image');
next.addEventListener("click", function () {

  items_left.innerHTML = "Items left : " + listItem;
  victory.classList.add("none");
  victory2.classList.add("none");
  body.classList.remove("win");
  if (listItem == 0){
    suggestions = [
      "Abyssal Mask",
      "Archangel's Staff",
      "Ardent Censer",
      "Axiom Arc",
      "Banshee's Veil",
      "Black Cleaver",
      "Blackfire Torch",
      "Blade of the Ruined King",
      "Bloodthirster",
      "Chempunk Chainsword",
      "Cosmic Drive",
      "Cryptbloom",
      "Dawncore",
      "Dead Man's Plate",
      "Death's Dance",
      "Echoes of Helia",
      "Eclipse",
      "Edge of Night",
      "Essence Reaver",
      "Experimental Hexplate",
      "Force of Nature",
      "Frozen Heart",
      "Guardian Angel",
      "Guinsoo's Rageblade",
      "Heartsteel",
      "Hextech Rocketbelt",
      "Hollow Radiance",
      "Horizon Focus",
      "Hubris",
      "Hullbreaker",
      "Iceborn Gauntlet",
      "Immortal Shieldbow",
      "Imperial Mandate",
      "Infinity Edge",
      "Jak'Sho, The Protean",
      "Kaenic Rookern",
      "Knight's Vow",
      "Kraken Slayer",
      "Liandry's Torment",
      "Lich Bane",
      "Locket of the Iron Solari",
      "Lord Dominik's Regards",
      "Luden's Companion",
      "Malignance",
      "Manamune",
      "Maw of Malmortius",
      "Mercurial Scimitar",
      "Mikael's Blessing",
      "Moonstone Renewer",
      "Morellonomicon",
      "Mortal Reminder",
      "Nashor's Tooth",
      "Navori Flickerblade",
      "Opportunity",
      "Overlord's Bloodmail",
      "Phantom Dancer",
      "Profane Hydra",
      "Rabadon's Deathcap",
      "Randuin's Omen",
      "Rapid Firecannon",
      "Ravenous Hydra",
      "Redemption",
      "Riftmaker",
      "Rod of Ages",
      "Runaan's Hurricane",
      "Rylai's Crystal Scepter",
      "Serpent's Fang",
      "Serylda's Grudge",
      "Shadowflame",
      "Shurelya's Battlesong",
      "Spear of Shojin",
      "Spirit Visage",
      "Staff of Flowing Water",
      "Statikk Shiv",
      "Sterak's Gage",
      "Stormsurge",
      "Stridebreaker",
      "Sunfire Aegis",
      "Terminus",
      "The Collector",
      "Thornmail",
      "Titanic Hydra",
      "Trailblazer",
      "Trinity Force",
      "Umbral Glaive",
      "Unending Despair",
      "Vigilant Wardstone",
      "Void Staff",
      "Voltaic Cyclosword",
      "Warmog's Armor",
      "Winter's Approach",
      "Wit's End",
      "Youmuu's Ghostblade",
      "Yun Tal Wildarrows",
      "Zeke's Convergence",
      "Zhonya's Hourglass",
    ];
    next.innerText = "Restart?";
    gg.classList.remove("none");
    boxPrix.classList.add("none");
    imgHTML.classList.add("none");
    statsBox.classList.add("none");
    valeurEntree.classList.add("none");
    interrogation.classList.add("none");
    option_image.classList.add('none');
  } else {
    next.innerHTML = "Skip";
    boxPrix.classList.remove("animation");
    statsBox.classList.remove("animation");  
    valeurEntree.classList.remove("animation");
    gg.classList.add("none");
    boxPrix.classList.remove("none");
    imgHTML.classList.remove("none");
    statsBox.classList.remove("none");
    valeurEntree.classList.remove("none");
    interrogation.classList.remove("none");
    option_image.classList.remove('none');
    suggestions.splice(numObjRandom, 1);
  }    
  listItem = suggestions.length - 1;
  mathObject = Math.random();
  ratioItem = mathObject * listItem;
  numObjRandom = Math.round(ratioItem);
  console.log("1 - " + numObjRandom);                                       //1
  objetRandom = suggestions[numObjRandom];                                  
  console.log("2 - " + objetRandom);                                        //3

  radioHTML.forEach(function (item, i) {
    radioHTML[i].checked = false;
  });
  checkHTML.forEach(function (item, a) {
    checkHTML[a].checked = false;
  });

  valeurEntree.value = "";
  itemEntrer = "";
  hintPrice = 0;
  prenom = false;
  cout = false;
  console.log("3.1 - " + coutItem);                                           //4
  coutItem = listOfItem[objetRandom]["cost"];
  console.log("3 - " + coutItem);                                           //4
  imageItem = listOfItem[objetRandom]["img"];
  console.log("4 - " + imageItem);
  nomItem = listOfItem[objetRandom]["name"];
  console.log("5 - " + nomItem);
  statsItem = listOfItem[objetRandom]["stats"];
  imgHTML.src = imageItem;
  aleatoirMauvais();
  aleatoirBon();
});


 

//-------------------SearchBox--------------------------//
const searchWrapper = document.querySelector(".search-input");
const suggBox = searchWrapper.querySelector(".autocom-box");

valeurEntree.onkeyup = (e) => {
  let userData = e.target.value; //user enetered data
  let emptyArray = [];
  if (userData) {
    emptyArray = suggestions.filter((data) => {
      //filtering array value and user characters to lowercase and return only those words which are start with user enetered chars
      return data.toLocaleLowerCase().startsWith(userData.toLocaleLowerCase());
    });
    emptyArray = emptyArray.map((data) => {
      // passing return data inside li tag
      return (data = "<li>" + data + "</li>");
    });
    searchWrapper.classList.add("active"); //show autocomplete box
    showSuggestions(emptyArray);
    let allList = suggBox.querySelectorAll("li");
    for (let i = 0; i < allList.length; i++) {
      //adding onclick attribute in all li tag
      allList[i].setAttribute("onclick", "select(this)");
    }
  } else {
    searchWrapper.classList.remove("active"); //hide autocomplete box
  }
};

function select(element) {
  let selectData = element.textContent;
  valeurEntree.value = selectData;
  searchWrapper.classList.remove("active");
}

function showSuggestions(list) {
  let listData;
  if (!list.length) {
    userValue = valeurEntree.value;
    listData = "<li>" + userValue + "</li>";
  } else {
    listData = list.join("");
  }
  suggBox.innerHTML = listData;
}
let video = document.querySelector(".video")


aleatoirMauvais();
aleatoirBon();
items_left.innerHTML = "Items left : " + Object.keys(listOfItem).length;